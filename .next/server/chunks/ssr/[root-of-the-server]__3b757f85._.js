module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},72054,a=>{"use strict";a.s(["config",()=>r,"default",()=>n,"getServerSideProps",()=>q,"getStaticPaths",()=>p,"getStaticProps",()=>o,"handler",()=>z,"reportWebVitals",()=>s,"routeModule",()=>y,"unstable_getServerProps",()=>w,"unstable_getServerSideProps",()=>x,"unstable_getStaticParams",()=>v,"unstable_getStaticPaths",()=>u,"unstable_getStaticProps",()=>t],72054);var b=a.i(79168),c=a.i(27068),d=a.i(32759),e=a.i(39141),f=a.i(6555);a.s(["default",()=>k],38572);var g=a.i(8171),h=a.i(27669);async function i(a,b){let c=new URLSearchParams({session_id:a});b?.after&&c.set("after",b.after),b?.limit&&c.set("limit",String(b.limit));let d=await fetch(`/api/chats?${c.toString()}`),e=await d.json();if(!d.ok||!e?.success)throw Error(e?.error||`${d.status} ${d.statusText}`);return e.data}async function j(a=50){let b=await fetch(`/api/chats?limit=${a}`),c=await b.json();if(!b.ok||!c?.success)throw Error(c?.error||`${b.status} ${b.statusText}`);return c.data}function k(){let[a,b]=(0,h.useState)([]),[c,d]=(0,h.useState)(null),[e,f]=(0,h.useState)([]);return(0,h.useEffect)(()=>{j(50).then(a=>b(a.sessions)).catch(console.error)},[]),(0,h.useEffect)(()=>{c&&i(c,{limit:500}).then(a=>f(a.messages)).catch(console.error)},[c]),(0,g.jsxs)("div",{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("h2",{className:"font-semibold mb-2",children:"Sessions"}),(0,g.jsx)("ul",{className:"space-y-2",children:a.map(a=>(0,g.jsx)("li",{children:(0,g.jsxs)("button",{className:`w-full text-left p-2 rounded ${c===a.session_id?"bg-indigo-100":"hover:bg-gray-100"}`,onClick:()=>d(a.session_id),children:[(0,g.jsx)("div",{className:"text-sm font-mono truncate",children:a.session_id}),(0,g.jsxs)("div",{className:"text-xs text-gray-600",children:[new Date(a.started_at).toLocaleString()," → ",new Date(a.last_at).toLocaleString()]}),(0,g.jsxs)("div",{className:"text-xs text-gray-500",children:[a.message_count," messages"]})]})},a.session_id))})]}),(0,g.jsxs)("div",{className:"md:col-span-2",children:[(0,g.jsxs)("h2",{className:"font-semibold mb-2",children:["Messages ",c?`(${c})`:""]}),(0,g.jsxs)("div",{className:"space-y-3",children:[e.map(a=>(0,g.jsxs)("div",{className:"border rounded p-3",children:[(0,g.jsxs)("div",{className:"text-xs text-gray-500",children:[new Date(a.created_at).toLocaleString()," · ",a.role]}),(0,g.jsx)("div",{className:"whitespace-pre-wrap",children:a.content}),a.action&&(0,g.jsxs)("div",{className:"mt-2 text-xs text-gray-600",children:["action: ",(0,g.jsx)("span",{className:"font-mono",children:a.action}),"boolean"==typeof a.need_followup?` \xb7 need_followup: ${a.need_followup}`:""]})]},a.id)),!e.length&&c&&(0,g.jsx)("div",{className:"text-sm text-gray-500",children:"No messages yet."})]})]})]})}var l=a.i(38572),m=a.i(9193);let n=(0,d.hoist)(l,"default"),o=(0,d.hoist)(l,"getStaticProps"),p=(0,d.hoist)(l,"getStaticPaths"),q=(0,d.hoist)(l,"getServerSideProps"),r=(0,d.hoist)(l,"config"),s=(0,d.hoist)(l,"reportWebVitals"),t=(0,d.hoist)(l,"unstable_getStaticProps"),u=(0,d.hoist)(l,"unstable_getStaticPaths"),v=(0,d.hoist)(l,"unstable_getStaticParams"),w=(0,d.hoist)(l,"unstable_getServerProps"),x=(0,d.hoist)(l,"unstable_getServerSideProps"),y=new b.PagesRouteModule({definition:{kind:c.RouteKind.PAGES,page:"/chat/logs",pathname:"/chat/logs",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:f.default,Document:e.default},userland:l}),z=(0,m.getHandler)({srcPage:"/chat/logs",config:r,userland:l,routeModule:y,getStaticPaths:p,getStaticProps:o,getServerSideProps:q})}];

//# sourceMappingURL=%5Broot-of-the-server%5D__3b757f85._.js.map